<!doctype html>
<html lang="en" data-org="troop">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Uniform Inspection Checklist</title>

  <link rel="stylesheet" href="../../assets/css/base.css" />
  <link rel="stylesheet" href="../../assets/css/tool-activity-timer.css" />
  <link rel="stylesheet" href="../../assets/css/tool-markdown-to-pdf.css" />
  <link rel="stylesheet" href="../../assets/css/theme-pack.css" data-theme-css="pack" disabled />
  <link rel="stylesheet" href="../../assets/css/theme-troop.css" data-theme-css="troop" disabled />
  <script src="../../assets/js/theme.js"></script>
  <script src="../../assets/js/htmx.min.js"></script>
  <script src="../../assets/js/alpine.min.js" defer></script>
  <script src="../../assets/js/marked.min.js"></script>
  <script src="../../assets/js/tool-uniform-inspection-checklist.js"></script>
  <script src="../../assets/js/tool-markdown-to-pdf.js"></script>
  <script src="../../assets/js/layout.js"></script>
</head>
<body hx-boost="true" hx-target="#app-main" hx-select="#app-main" hx-swap="outerHTML" hx-push-url="true">
  <header class="header no-print">
    <div class="header-inner container">
      <div class="header-brand">
        <strong data-layout-title>Uniform Inspection Checklist</strong>
        <p class="muted header-title-subtitle" data-layout-subtitle>Complete all fields before turning in.</p>
      </div>
      <div class="header-actions">
        <button class="header-toggle" type="button" data-nav-toggle aria-expanded="false" aria-controls="headerPanel">
          <span class="header-toggle-icon" aria-hidden="true"></span>
          <span class="sr-only">Toggle header menu</span>
        </button>
        <div class="header-panel is-collapsed" id="headerPanel" data-nav-panel hidden>
          <div class="theme-controls" aria-label="Theme settings">
            <div class="theme-control field">
              <label for="orgSelect">Organization</label>
              <select id="orgSelect" data-theme-control="org">
                <option value="pack">Cub Scouts Pack</option>
                <option value="troop">Scouting America Troop</option>
              </select>
            </div>
          </div>
          <button class="button theme-toggle" type="button" data-theme-toggle aria-pressed="false">
            <span data-theme-toggle-label>Light</span>
          </button>
        </div>
      </div>
    </div>
    <nav class="breadcrumbs container" aria-label="Breadcrumb">
      <ol class="breadcrumb-list" data-layout-breadcrumbs></ol>
    </nav>
  </header>

  <main id="app-main" class="container stack" style="padding: 24px 16px 40px;" x-data="inspectionSheet()" x-init="init()" data-page-title="Uniform Inspection Checklist" data-page-subtitle="Complete all fields before turning in." data-breadcrumbs='[{"label":"Home","href":"../../"},{"label":"Uniform Inspection Checklist","href":"./"}]'>
    <form id="inspectionForm" class="stack">
      <section class="stack">
        <div class="stack">
          <h1>Uniform Inspection Checklist</h1>
          <p class="muted">Complete all fields before turning in.</p>
          <div class="row">
            <button class="primary" id="btnStart" type="button">Start inspection</button>
            <button id="btnPrint" type="button">Print</button>
            <button id="btnReset" type="button">Reset</button>
          </div>
        </div>

        <div class="grid cols-2">
          <div class="field">
            <label for="patrolName">Patrol Name</label>
            <input id="patrolName" type="text" placeholder="e.g., Owls" x-model="patrolName" required />
          </div>
          <div class="field">
            <label for="patrolCount">Members Present</label>
            <input id="patrolCount" type="number" min="1" step="1" inputmode="numeric" placeholder="e.g., 7" x-model.number="present" required />
          </div>
          <div class="field">
            <label for="date">Date</label>
            <input id="date" type="date" x-model="date" required />
          </div>
          <div class="field">
            <label for="inspector">Printed Name of Inspector</label>
            <input id="inspector" type="text" placeholder="e.g., Baden Powell" x-model="inspector" required />
          </div>
        </div>
      </section>

      <section class="card stack">
        <table>
          <thead>
            <tr>
              <th>Item</th>
              <th>Type</th>
              <th>Count / Result</th>
              <th>Points</th>
            </tr>
          </thead>
          <template x-for="section in sections" :key="section.title">
            <tbody>
              <tr><th colspan="4" x-text="section.title"></th></tr>
              <template x-for="item in section.items" :key="item.key">
                <tr>
                  <td x-text="item.label"></td>
                  <td x-text="item.type === 'per' ? 'Per Youth' : 'Pass/Fail'"></td>
                  <td>
                    <template x-if="item.type === 'per'">
                      <input type="number" min="0" :max="present || 0" step="1" inputmode="numeric" x-model.number="item.value" />
                    </template>
                    <template x-if="item.type === 'pass'">
                      <select x-model="item.value">
                        <option value="no">No</option>
                        <option value="yes">Yes</option>
                      </select>
                    </template>
                  </td>
                  <td x-text="`${format(pointsFor(item))} / ${format(item.points)}`"></td>
                </tr>
              </template>
            </tbody>
          </template>
        </table>
      </section>

      <section class="card row">
        <strong>Total Score</strong>
        <span><span x-text="format(total)"></span> / <span x-text="format(maxPoints)"></span></span>
      </section>

      <p class="muted">Per youth items score based on the percentage of members present who have the item.</p>
    </form>

  </main>

  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("../../sw.js");
    }
  </script>
</body>
</html>
